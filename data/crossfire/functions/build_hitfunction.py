file = open("generated\\hit.mcfunction", "w+")

def s(txt):
    file.write(txt + "\n")

s("# Hit Effect")
s("tag @s add dead")
s("")
s("# Firework Colours")
s("execute if entity @s[tag=red] at @s run summon firework_rocket ~ ~ ~ {Tags:[\"custom\"],LifeTime:0,FireworksItem:{id:firework_rocket,Count:1,tag:{Fireworks:{Explosions:[{Type:0,Colors:[I;11743532]}],Flight:1}}}}")
s("execute if entity @s[tag=yellow] at @s run summon firework_rocket ~ ~ ~ {Tags:[\"custom\"],LifeTime:0,FireworksItem:{id:firework_rocket,Count:1,tag:{Fireworks:{Explosions:[{Type:0,Colors:[I;14602026]}],Flight:1}}}}")
s("execute if entity @s[tag=green] at @s run summon firework_rocket ~ ~ ~ {Tags:[\"custom\"],LifeTime:0,FireworksItem:{id:firework_rocket,Count:1,tag:{Fireworks:{Explosions:[{Type:0,Colors:[I;4312372]}],Flight:1}}}}")
s("execute if entity @s[tag=blue] at @s run summon firework_rocket ~ ~ ~ {Tags:[\"custom\"],LifeTime:0,FireworksItem:{id:firework_rocket,Count:1,tag:{Fireworks:{Explosions:[{Type:0,Colors:[I;6719955]}],Flight:1}}}}")
s("")
s("# Killscreens")
s("# Red killscreen")
s("execute if entity @s[tag=red] as @a[distance=..3,team=!red,tag=!died,tag=!admin,scores={respawnshield=..0}] run title @s subtitle {\"text\":\"\\uE004\"}")
s("execute if entity @s[tag=red] as @a[distance=..3,team=!red,tag=!died,tag=!admin,scores={respawnshield=..0}] run title @s title [\"\",{\"text\":\" \\uE006 \"},{\"text\":\"Sploded! \",\"bold\":true,\"color\":\"red\"},{\"text\":\"\\uE006\"}]")
s("execute if entity @s[tag=red] as @a[distance=..3,team=!red,tag=!died,tag=!admin,scores={respawnshield=..0}] run tag @s add hit")
s("")
s("# Yellow killscreen")
s("execute if entity @s[tag=yellow] as @a[distance=..3,team=!yellow,tag=!died,tag=!admin,scores={respawnshield=..0}] run title @s subtitle {\"text\":\"\\uE004\"}")
s("execute if entity @s[tag=yellow] as @a[distance=..3,team=!yellow,tag=!died,tag=!admin,scores={respawnshield=..0}] run title @s title [\"\",{\"text\":\" \\uE007 \"},{\"text\":\"Sploded! \",\"bold\":true,\"color\":\"yellow\"},{\"text\":\"\\uE007\"}]")
s("execute if entity @s[tag=yellow] as @a[distance=..3,team=!yellow,tag=!died,tag=!admin,scores={respawnshield=..0}] run tag @s add hit")
s("")
s("# Green killscreen")
s("execute if entity @s[tag=green] as @a[distance=..3,team=!green,tag=!died,tag=!admin,scores={respawnshield=..0}] run title @s subtitle {\"text\":\"\\uE004\"}")
s("execute if entity @s[tag=green] as @a[distance=..3,team=!green,tag=!died,tag=!admin,scores={respawnshield=..0}] run title @s title [\"\",{\"text\":\" \\uE008 \"},{\"text\":\"Sploded! \",\"bold\":true,\"color\":\"green\"},{\"text\":\"\\uE008\"}]")
s("execute if entity @s[tag=green] as @a[distance=..3,team=!green,tag=!died,tag=!admin,scores={respawnshield=..0}] run tag @s add hit")
s("")
s("# Blue killscreen")
s("execute if entity @s[tag=blue] as @a[distance=..3,team=!blue,tag=!died,tag=!admin,scores={respawnshield=..0}] run title @s subtitle {\"text\":\"\\uE004\"}")
s("execute if entity @s[tag=blue] as @a[distance=..3,team=!blue,tag=!died,tag=!admin,scores={respawnshield=..0}] run title @s title [\"\",{\"text\":\" \\uE005 \"},{\"text\":\"Sploded! \",\"bold\":true,\"color\":\"aqua\"},{\"text\":\"\\uE005\"}]")
s("execute if entity @s[tag=blue] as @a[distance=..3,team=!blue,tag=!died,tag=!admin,scores={respawnshield=..0}] run tag @s add hit")
s("")
s("# Hit supply crates")
s("execute as @e[tag=supplycrate,tag=!crateless,distance=..3] run tag @s add wantstodrop")
s("execute as @e[tag=supplycrate,tag=!crateless,tag=wantstodrop] at @s run tag @e[tag=!dropped,tag=!crateless,tag=!wantstodrop,distance=..1] add wantstodrop")
s("")
s("# Remove hit tags")
s("tag @e[type=!player] remove hit")
s("")
s("# Message informing you of teamkilling:")
for i in range(1, 12):
    name = "player" + str(i)
    s("execute if entity @s[tag=red,tag="+name+"] if entity @a[distance=..3,team=red,limit=1,tag=!"+name+"] run title @a[tag="+name+"] actionbar [\"\",{\"text\":\"Don't attack your teammates!\",\"color\":\"red\"}]")
    s("execute if entity @s[tag=yellow,tag="+name+"] if entity @a[distance=..3,team=yellow,limit=1,tag=!"+name+"] run title @a[tag="+name+"] actionbar [\"\",{\"text\":\"Don't attack your teammates!\",\"color\":\"red\"}]")
    s("execute if entity @s[tag=green,tag="+name+"] if entity @a[distance=..3,team=green,limit=1,tag=!"+name+"] run title @a[tag="+name+"] actionbar [\"\",{\"text\":\"Don't attack your teammates!\",\"color\":\"red\"}]")
    s("execute if entity @s[tag=blue,tag="+name+"] if entity @a[distance=..3,team=blue,limit=1,tag=!"+name+"] run title @a[tag="+name+"] actionbar [\"\",{\"text\":\"Don't attack your teammates!\",\"color\":\"red\"}]")
    s("")
s("")
s("# Message informing you of respawn shield")
for i in range(1, 12):
    name = "player" + str(i)
    s("execute if entity @s[tag=red,tag="+name+"] if entity @a[distance=..3,team=!red,tag=!died,scores={respawnshield=1..},limit=1] run title @a[tag="+name+"] actionbar [\"\",{\"text\":\"You've hit a player that was still respawning!\",\"color\":\"yellow\"}]")
    s("execute if entity @s[tag=yellow,tag="+name+"] if entity @a[distance=..3,team=!yellow,tag=!died,scores={respawnshield=1..},limit=1] run title @a[tag="+name+"] actionbar [\"\",{\"text\":\"You've hit a player that was still respawning!\",\"color\":\"yellow\"}]")
    s("execute if entity @s[tag=green,tag="+name+"] if entity @a[distance=..3,team=!green,tag=!died,scores={respawnshield=1..},limit=1] run title @a[tag="+name+"] actionbar [\"\",{\"text\":\"You've hit a player that was still respawning!\",\"color\":\"yellow\"}]")
    s("execute if entity @s[tag=blue,tag="+name+"] if entity @a[distance=..3,team=!blue,tag=!died,scores={respawnshield=1..},limit=1] run title @a[tag="+name+"] actionbar [\"\",{\"text\":\"You've hit a player that was still respawning!\",\"color\":\"yellow\"}]")
    s("")
s("")
s("# Death messages per player")
for i in range(1, 12):
    name = "player" + str(i)
    spec = "spectateplayer" + str(i)
    s("execute if entity @s[tag="+name+"] as @e[tag=hit] run title @a[tag="+name+"] times 10 30 10")
    s("execute if entity @s[tag="+name+"] as @e[tag=hit] run title @a[tag="+name+"] subtitle [\"\",{\"text\":\"You've killed: \"},{\"selector\":\"@s\"}]")
    s("execute if entity @s[tag="+name+"] as @e[tag=hit] run title @a[tag="+name+"] title {\"text\":\" \"}")
    s("execute if entity @s[tag="+name+"] as @e[tag=hit] run tellraw @a [\"\",{\"selector\":\"@s\"},{\"text\":\" was sploded by \"},{\"selector\":\"@a[tag="+name+",limit=1]\"}]")
    s("execute if entity @s[tag="+name+"] as @e[tag=hit] run tag @s add "+spec)
    s("execute if entity @s[tag="+name+"] as @e[tag=hit] run scoreboard players add @a[tag="+name+"] roundKills 1")
    s("execute if entity @s[tag="+name+"] as @e[tag=hit] run scoreboard players add @a[tag="+name+"] kills 1")
    s("")
s("")
s("# Make hit effects work")
s("execute as @e[tag=hit] run function crossfire:hit2")
s("")
s("# Kill the firework")
s("kill @s")

file.close()