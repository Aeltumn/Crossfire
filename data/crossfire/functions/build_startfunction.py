file = open("generated\\start.mcfunction", "w+")

file.write("execute if score joined joined matches ..1 run tellraw @a {\"text\":\"Not enough players have chosen a team yet!\"}\n\r")
file.write("\n\r")
file.write("execute if score joined joined matches 2.. as @a[tag=!admin] run function crossfire:init_player\n\r")
file.write("execute if score joined joined matches 2.. run scoreboard players set started started 1\n\r")
file.write("\n\r")

# This file is messy but this for loop is worth it.
for s in range(1, 12):
    name = "player" + str(s)
    file.write("execute if score joined joined matches 2.. if score playerscore player matches " + str(s - 1) + " as @a[tag=!selected,tag=joined,limit=1] run tag @s add " + name + "\n\r")
    file.write("execute if score joined joined matches 2.. as @a[tag=" + name + "] run tag @s add selected\n\r")
    file.write("execute if score joined joined matches 2.. run scoreboard players add playerscore player 1\n\r")
    file.write("\n\r")
    
file.write("\n\r")
file.write("execute if score joined joined matches 2.. run scoreboard players set starttimer starttimer 5\n\r")
file.write("execute if score joined joined matches 2.. run function crossfire:timer\n\r")
file.write("\n\r")
file.write("# Create the cages\n\r")
file.write("# Red cage\n\r")
file.write("fill 293 22 232 287 26 232 barrier replace air\n\r")
file.write("fill 287 22 229 287 26 232 barrier replace air\n\r")
file.write("fill 287 22 229 293 26 229 barrier replace air\n\r")
file.write("fill 293 22 229 293 26 232 barrier replace air\n\r")
file.write("fill 293 26 232 287 26 229 barrier replace air\n\r")
file.write("\n\r")
file.write("# Yellow cage\n\r")
file.write("fill 293 22 269 287 26 269 barrier replace air\n\r")
file.write("fill 287 22 269 287 26 266 barrier replace air\n\r")
file.write("fill 287 22 266 293 26 266 barrier replace air\n\r")
file.write("fill 293 22 266 293 26 269 barrier replace air\n\r")
file.write("fill 287 26 266 293 26 269 barrier replace air\n\r")
file.write("\n\r")
file.write("# Green cage\n\r")
file.write("fill 307 22 246 307 26 252 barrier replace air\n\r")
file.write("fill 307 22 252 309 26 252 barrier replace air\n\r")
file.write("fill 307 22 246 309 26 246 barrier replace air\n\r")
file.write("fill 307 26 252 309 26 246 barrier replace air\n\r")
file.write("\n\r")
file.write("# Blue cage\n\r")
file.write("fill 270 22 246 273 26 246 barrier replace air\n\r")
file.write("fill 273 22 246 273 26 252 barrier replace air\n\r")
file.write("fill 273 22 252 270 26 252 barrier replace air\n\r")
file.write("fill 270 22 252 270 26 246 barrier replace air\n\r")
file.write("fill 270 26 252 273 26 246 barrier replace air\n\r")

file.close()